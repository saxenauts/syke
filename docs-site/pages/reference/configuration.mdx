import { Callout, Tabs } from 'nextra/components'

# Configuration

## Environment Variables

Set in `.env` at the project root:

<Callout type="warning">
**Auth: `claude login` only.** As of v0.4.1, `ANTHROPIC_API_KEY` is **not supported** â€” Syke forcibly clears it at startup. Use `claude login` (Claude Code Max/Team/Enterprise). Data collection, `syke context`, and `syke record` work without auth.
</Callout>

| Variable | Required | Description |
|----------|----------|-------------|
| `ANTHROPIC_API_KEY` | ~~No~~ | **Not supported since v0.4.1.** Syke clears this at startup. Use `claude login` instead. |
| `GITHUB_TOKEN` | No | GitHub PAT for private repos |
| `GMAIL_ACCOUNT` | No | Gmail address for `gog` CLI backend (e.g., `you@gmail.com`) |
| `GMAIL_CREDENTIALS_PATH` | No | Path to Gmail OAuth credentials (Python backend) |
| `GMAIL_TOKEN_PATH` | No | Path to Gmail OAuth token (Python backend) |
| `SYKE_USER` | No | Default user ID (avoids `--user` flag) |
| `SYKE_DATA_DIR` | No | Data directory (default: `~/.syke/data`) |

Since v0.4.1, `ANTHROPIC_API_KEY` is not supported. Run `claude login` (Claude Code CLI, works on macOS/Linux/Windows) to authenticate. If auth is not configured, data collection, `syke context`, and `syke record` still work.

## Gmail Configuration

The Gmail adapter automatically picks the best available backend:

<Tabs items={['gog CLI (recommended)', 'Python OAuth']}>
<Tabs.Tab>
Fast, handles keychain natively.

```bash
brew install gog
gog auth add --account you@gmail.com
```

Set `GMAIL_ACCOUNT=you@gmail.com` in `.env`. The adapter calls `gog` directly.
</Tabs.Tab>
<Tabs.Tab>
Self-contained, no extra CLI needed.

```bash
pip install google-auth-oauthlib google-api-python-client
```

Download OAuth credentials from [Google Cloud Console](https://console.cloud.google.com/apis/credentials) and save to `~/.config/syke/gmail_credentials.json`. On first run, a browser window opens for consent. The token is cached at `~/.config/syke/gmail_token.json`.
</Tabs.Tab>
</Tabs>

## File Locations

<Callout type="info">
**v0.2.2 change.** `DATA_DIR` now always resolves to `~/.syke/data` regardless of install method (PyPI or source).
</Callout>

| What | Where |
|------|-------|
| Configuration | `ANTHROPIC_API_KEY` env var (or `.env` in project root for source installs) |
| User data | `~/.syke/data/{user_id}/` |
| SQLite database | `~/.syke/data/{user_id}/syke.db` |
| CLAUDE.md (memex) | `~/.syke/data/{user_id}/CLAUDE.md` |
| Metrics log | `~/.syke/data/{user_id}/metrics.jsonl` |
| Application log | `~/.syke/data/{user_id}/syke.log` |

## Model Defaults

Synthesis uses model alias `sonnet` (resolves to the latest Sonnet) with a $0.50 budget cap and 10 turns max. Configurable via env vars `SYKE_SYNC_MODEL`, `SYKE_SYNC_BUDGET`, `SYKE_SYNC_MAX_TURNS` or in `syke/config.py`.
